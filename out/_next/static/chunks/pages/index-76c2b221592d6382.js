(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(49161)}])},49161:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return en},default:function(){return ei}});var i=n(85893),l=n(67294),o=n(41248),s=n(79072),r=n(29630),a=n(9144),d=n(75084),c=n(61953),h=n(45697),u=n.n(h),x=n(62097),v=n(19224),m=n(59742),p=n(14412),j=n(91359),g=n(62026),y=n(72021),Z=n(80562),f=n(93481),b=n(74855),S=n(87413),w=n(77128),k=n(26671);function P(e){let{children:t,...n}=e;return(0,i.jsx)(w.Z,{language:"javacript",showLineNumbers:!0,style:k.Vg,...n,children:t})}P.propTypes={children:u().node};var z=n(57132),C=n(89035);let _=e=>{let{children:t}=e,[n,o]=(0,l.useState)(!1);return(0,i.jsxs)(c.Z,{sx:{position:"relative"},children:[(0,i.jsx)(g.Z,{sx:{justifyContent:"flex-end",p:1,mb:n?1:0},children:(0,i.jsxs)(c.Z,{sx:{display:"flex",position:"inherit",right:0,top:6},children:[(0,i.jsx)(b.CopyToClipboard,{text:(0,S.ZP)(t,{showFunctions:!0,maxInlineAttributesLineLength:100}),children:(0,i.jsx)(y.Z,{title:"Copy the source",placement:"top-end",children:(0,i.jsx)(Z.Z,{color:"secondary",size:"small",sx:{fontSize:"0.875rem"},children:(0,i.jsx)(z.Z,{})})})}),(0,i.jsx)(p.Z,{orientation:"vertical",variant:"middle",flexItem:!0,sx:{mx:1}}),(0,i.jsx)(y.Z,{title:"Show the source",placement:"top-end",children:(0,i.jsx)(Z.Z,{sx:{fontSize:"0.875rem"},size:"small",color:n?"primary":"secondary",onClick:()=>o(!n),children:(0,i.jsx)(C.Z,{})})})]})}),(0,i.jsx)(f.Z,{in:n,children:n&&(0,i.jsx)(P,{children:(0,S.ZP)(t,{showFunctions:!0,showDefaultProps:!1,maxInlineAttributesLineLength:100})})})]})};_.propTypes={children:u().node};let N={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},F=(0,l.forwardRef)((e,t)=>{let{border:n=!0,boxShadow:l,children:o,content:s=!0,contentSX:a={},darkTitle:d,divider:c=!0,elevation:h,secondary:u,shadow:g,sx:y={},title:Z,codeHighlight:f,...b}=e,S=(0,x.Z)();return l="dark"===S.palette.mode?l||!0:l,(0,i.jsxs)(v.Z,{elevation:h||0,ref:t,...b,sx:{...y,border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===S.palette.mode?S.palette.divider:S.palette.grey["800"],boxShadow:l&&(!n||"dark"===S.palette.mode)?g||S.customShadows.z1:"inherit",":hover":{boxShadow:l?g||S.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:S.typography.fontFamily,fontSize:"0.75rem"}},children:[!d&&Z&&(0,i.jsx)(m.Z,{sx:N,titleTypographyProps:{variant:"subtitle1"},title:Z,action:u}),d&&Z&&(0,i.jsx)(m.Z,{sx:N,title:(0,i.jsx)(r.Z,{variant:"h3",children:Z}),action:u}),Z&&c&&(0,i.jsx)(p.Z,{}),s&&(0,i.jsx)(j.Z,{sx:a,children:o}),!s&&o,f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{sx:{borderStyle:"dashed"}}),(0,i.jsx)(_,{codeHighlight:f,main:!0,children:o})]})]})});F.propTypes={border:u().bool,boxShadow:u().bool,contentSX:u().object,darkTitle:u().bool,divider:u().bool,elevation:u().number,secondary:u().node,shadow:u().string,sx:u().object,title:u().string,codeHighlight:u().bool,content:u().bool};var I=n(21448),L=n(97879),T=n(21612);let D=e=>{let{color:t,title:n,count:l,percentage:o,isLoss:d,extra:h,subtitle:u,unit:x}=e;return(0,i.jsxs)(F,{contentSX:{p:2.25},children:[(0,i.jsxs)(a.Z,{spacing:.5,children:[(0,i.jsx)(r.Z,{variant:"h6",color:"textSecondary",children:n}),(0,i.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,i.jsx)(s.ZP,{item:!0,children:(0,i.jsx)(r.Z,{variant:"h4",color:"inherit",children:null!=l?l:"-"})}),typeof o&&"NaN"!==o&&(0,i.jsx)(s.ZP,{item:!0,children:(0,i.jsx)(I.Z,{variant:"combined",color:Number(o)>0?"warning":"primary",icon:(0,i.jsx)(i.Fragment,{children:Number(o)>0?(0,i.jsx)(L.Z,{style:{fontSize:"0.75rem",color:"inherit"}}):(0,i.jsx)(T.Z,{style:{fontSize:"0.75rem",color:"inherit"}})}),label:"".concat(o,"% (전일 대비)"),sx:{ml:1.25,pl:1},size:"small"})})]})]}),(0,i.jsx)(c.Z,{sx:{pt:2.25},children:(0,i.jsxs)(r.Z,{variant:"caption",color:"textSecondary",children:["인구 10만명당 ",u," ",(0,i.jsx)(r.Z,{component:"span",variant:"caption",sx:{color:"success.main"},children:"".concat(null!=h?h:"-"," (").concat(x,")")})," "]})})]})};D.propTypes={color:u().string,title:u().string,count:u().string,percentage:u().number,isLoss:u().bool,extra:u().oneOfType([u().node,u().string])},D.defaultProps={color:"primary"};var E=n(47302),K=n(9253),H=n(98687),W=n(3023),A=n(75358),X=n(25048),B=n(14888),O=n(14195),$=n(56880);let q=e=>(0,i.jsxs)(H.w,{data:e,height:300,children:[(0,i.jsx)(W.K,{dataKey:"datetime",label:"날짜(일)",height:100}),(0,i.jsx)(A.B,{dataKey:"value",width:100,children:(0,i.jsx)(X._,{value:"인원(명)",position:"center",dx:-25})}),(0,i.jsx)(B.u,{formatter:e=>["".concat(e,"명"),"인원"],labelFormatter:e=>e?"".concat(e.split(".")[0],"월 ").concat(e.split(".")[1],"일"):"-"}),(0,i.jsx)(O.q,{strokeDasharray:"3 3"}),(0,i.jsx)($.x,{type:"monotone",dataKey:"value",stroke:"rgba(3, 169, 244, 0.85)",fill:"rgba(3, 169, 244, 0.85)"})]});var M=n(94831),R=n(16e3);let U={deaths:"#ff1c1c",confirmations:"rgba(3, 169, 244, 0.85)",severeSymtoms:"#ff9e37ff",hospitalization:"#f486f6",primary:"#876445",secondary:"#CA965C",third:"#CFD8DC"},V=e=>(0,i.jsxs)(M.v,{data:e,height:300,children:[(0,i.jsx)(W.K,{dataKey:"datetime",label:"날짜(일)",height:100}),(0,i.jsx)(A.B,{dataKey:"value",width:100,children:(0,i.jsx)(X._,{value:"인원(명)",position:"center",dx:-20})}),(0,i.jsx)(B.u,{formatter:e=>["".concat(e,"명"),"인원"],labelFormatter:e=>e?"".concat(e.split(".")[0],"월 ").concat(e.split(".")[1],"일"):"",cursorStyle:{background:"yellow"},cursor:{fill:"#a8a8a8",opacity:.2}}),(0,i.jsx)(O.q,{strokeDasharray:"3 3"}),(0,i.jsx)(R.$,{type:"monotone",dataKey:"value",stroke:U.deaths,fill:U.deaths,maxBarSize:15})]}),Y=()=>{var e,t,n,h,u,x,v,m;let[p,j]=(0,l.useState)("today"),[g,y]=(0,l.useState)("week"),Z=(0,o.v9)(e=>e.dashboard,o.wU),{deaths:f,severeSymptoms:b,hospitalizations:S,confirmations:w,searchDate:k,yesterday:P,weekly:z}=Z,C=e=>{let t=0;return e&&e.length>0&&(t=e.reduce((e,t)=>(null==t?void 0:t.value)?e+t.value:e,t)),t},_={deaths:(0,E.hI)(null==f?void 0:f.count,null==P?void 0:null===(e=P.deaths)||void 0===e?void 0:e.count),severeSymptoms:(0,E.hI)(null==b?void 0:b.count,null==P?void 0:null===(t=P.severeSymptoms)||void 0===t?void 0:t.count),hospitalizations:(0,E.hI)(null==S?void 0:S.count,null==P?void 0:null===(n=P.hospitalizations)||void 0===n?void 0:n.count),confirmations:(0,E.hI)(null==w?void 0:w.count,null==P?void 0:null===(h=P.confirmations)||void 0===h?void 0:h.count)},N={deaths:(0,E.W$)(null==z?void 0:z.deaths),confirmations:(0,E.W$)(null==z?void 0:z.confirmations)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid-container",children:(0,i.jsxs)(s.ZP,{className:"grid-wrapper",container:!0,rowSpacing:5,columnSpacing:2.75,children:[(0,i.jsx)(s.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,i.jsx)(r.Z,{variant:"h5",children:"당일 종합 현황"})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(D,{title:"신규 확진자 수",count:null==w?void 0:null===(u=w.count)||void 0===u?void 0:u.toLocaleString(),percentage:null==_?void 0:_.confirmations,extra:null==w?void 0:w.rate,unit:"%",subtitle:"신규 확진자 현황"})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(D,{title:"사망자 수",count:null==f?void 0:null===(x=f.count)||void 0===x?void 0:x.toLocaleString(),percentage:null==_?void 0:_.deaths,unit:"%",subtitle:"사망자 현황",extra:null==f?void 0:f.rate})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(D,{title:"재원 위중증 발생 수",count:null==b?void 0:null===(v=b.count)||void 0===v?void 0:v.toLocaleString(),percentage:null==_?void 0:_.severeSymptoms,unit:"%",subtitle:"재원 위중증 발생 현황",extra:null==b?void 0:b.rate})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(D,{title:"일일 신규입원 수",count:null==S?void 0:null===(m=S.count)||void 0===m?void 0:m.toLocaleString(),percentage:null==_?void 0:_.hospitalizations,unit:"%",subtitle:"신규 확진자 현황",extra:null==S?void 0:S.rate})}),(0,i.jsx)(s.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]})}),(0,i.jsx)("div",{className:"grid-container",children:(0,i.jsxs)(s.ZP,{container:!0,rowSpacing:5,columnSpacing:2.75,children:[(0,i.jsxs)(s.ZP,{item:!0,xs:12,md:7,lg:8,children:[(0,i.jsxs)(s.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,i.jsx)(s.ZP,{item:!0,sx:{mb:1.25},children:(0,i.jsx)(r.Z,{variant:"h5",children:"주간 현황 차트"})}),(0,i.jsx)(s.ZP,{item:!0,children:(0,i.jsx)(a.Z,{direction:"row",alignItems:"center",spacing:0,children:(0,i.jsx)(d.Z,{size:"small",onClick:()=>y("week"),style:{color:"week"===g?"rgba(3, 169, 244, 0.85)":"white",borderColor:"week"===g?"rgba(3, 169, 244, 0.85)":"white"},variant:"week"===g?"outlined":"text",children:"Week"})})})]}),(0,i.jsx)(F,{sx:{mt:1.5},children:(0,i.jsxs)(c.Z,{sx:{pt:1,pr:2},children:[(0,i.jsxs)(a.Z,{spacing:1,children:[(0,i.jsx)(r.Z,{variant:"h6",color:"textSecondary",children:"주간 총 확진자 수"}),(0,i.jsx)(r.Z,{variant:"h5",children:"".concat(C(null==N?void 0:N.confirmations).toLocaleString()," 명")})]}),(0,i.jsx)("div",{style:{padding:"40px 0px 0px"},children:(0,i.jsx)(K.h,{minWidth:"100%",minHeight:300,children:q(null==N?void 0:N.deaths)})})]})})]}),(0,i.jsxs)(s.ZP,{item:!0,xs:12,md:5,lg:4,children:[(0,i.jsxs)(s.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,i.jsx)(s.ZP,{item:!0,sx:{mb:1.25},children:(0,i.jsx)(r.Z,{variant:"h5",style:{visibility:"hidden"},children:"주간 사망자 현황"})}),(0,i.jsx)(s.ZP,{item:!0})]}),(0,i.jsxs)(F,{sx:{mt:1.5},children:[(0,i.jsx)(c.Z,{sx:{pt:1,pr:2},children:(0,i.jsxs)(a.Z,{spacing:1,children:[(0,i.jsx)(r.Z,{variant:"h6",color:"textSecondary",children:"주간 총 사망자 수"}),(0,i.jsx)(r.Z,{variant:"h5",children:"".concat(C(null==N?void 0:N.deaths)," 명")})]})}),(0,i.jsx)("div",{style:{padding:"40px 0px 0px"},children:(0,i.jsx)(K.h,{minWidth:"100%",minHeight:300,children:V(null==N?void 0:N.deaths)})})]})]})]})})]})};var G=n(9008),J=n.n(G);let Q=e=>{let{title:t}=e;return(0,i.jsx)(J(),{children:(0,i.jsxs)("title",{children:[t," | page"]})})};var ee=n(976);let et=e=>{let t=(0,o.I0)(),n=(0,o.v9)(e=>e.dashboard,o.wU),s=(0,l.useCallback)(e=>{let i;let{covid_deaths_weekly:l,covid_confirmations_weekly:o,covid_severe_symptoms_weekly:s,covid_hospitalizations_weekly:r}=e;console.group("called initData()");let a=l[0],d=o[0],c=s[0],h=r[0];if(a&&d&&c&&h){var u,x,v,m,p,j,g,y,Z,f;i={searchDate:null==a?void 0:a.mmddhh,deaths:{count:null==a?void 0:a.cnt7,rate:null==a?void 0:a.rate7},hospitalizations:{count:null==h?void 0:h.cnt7,rate:null==h?void 0:h.rate7},severeSymptoms:{count:null==c?void 0:c.cnt7,rate:null==c?void 0:c.rate7},confirmations:{count:null==d?void 0:d.cnt7,rate:null==d?void 0:d.rate7},yesterday:{deaths:{count:a.cnt6,rate:a.rate6},severeSymptoms:{count:c.cnt6,rate:c.rate6},hospitalizations:{count:h.cnt6,rate:h.rate6},confirmations:{count:d.cnt6,rate:d.rate6}}},t((0,ee.dZ)(null!==(p=null==i?void 0:i.searchDate)&&void 0!==p?p:null==n?void 0:n.searchDate)),t((0,ee.dF)({severeSymptoms:null!==(j=i.severeSymptoms)&&void 0!==j?j:null==n?void 0:n.severeSymptoms})),t((0,ee.YZ)({hospitalizations:null!==(g=i.hospitalizations)&&void 0!==g?g:null==n?void 0:n.hospitalizations})),t((0,ee.nE)({confirmations:null!==(y=i.confirmations)&&void 0!==y?y:null==n?void 0:n.confirmations})),t((0,ee.xb)({deaths:null!==(Z=i.deaths)&&void 0!==Z?Z:null==n?void 0:n.deaths})),t((0,ee.AM)(null!==(f=i.yesterday)&&void 0!==f?f:null==n?void 0:n.yesterday)),t((0,ee.LH)({deaths:null!=a?a:null==n?void 0:null===(u=n.weekly)||void 0===u?void 0:u.deaths,confirmations:null!=d?d:null==n?void 0:null===(x=n.weekly)||void 0===x?void 0:x.confirmations,severeSymptoms:null!=c?c:null==n?void 0:null===(v=n.weekly)||void 0===v?void 0:v.severeSymptoms,hospitalizations:null!=h?h:null==n?void 0:null===(m=n.weekly)||void 0===m?void 0:m.hospitalizations})),console.groupEnd()}},[t]);return(0,l.useEffect)(()=>{console.log("useEffect"),s(e)},[s,e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Q,{title:"대시보드"}),(0,i.jsx)(Y,{})]})};var en=!0,ei=et}},function(e){e.O(0,[50,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);